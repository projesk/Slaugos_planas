<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8">
<title>Paciento vertinimas ir slaugos planas</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 950px; margin: auto; padding: 20px; }
  .section { margin-bottom: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; background: #f9f9f9; }
  h2 { border-bottom: 1px solid #ccc; padding-bottom: 5px; }
  label { display: block; margin-top: 8px; }
  select, input, textarea { padding: 5px; margin-top: 4px; width: 100%; box-sizing: border-box; }
  button { padding: 10px 15px; background: #2c7; border: none; cursor: pointer; margin-top: 10px; }
  button:hover { background: #29a; color: white; }
  .results { background: #f0f0f0; padding: 15px; margin-top: 20px; border-radius: 4px; }
  #zaizdos_aprasymas { display: none; }
  .planas { background: #fff; border: 1px solid #ccc; margin-top: 15px; padding: 10px; }
  .planas h4 { margin: 5px 0; }
</style>
</head>
<body>

<h1>Paciento vertinimas ir slaugos planas</h1>

<form id="nursingForm">

<!-- IDENTIFIKACIJA -->
<div class="section">
<h2>Identifikacija</h2>
<label>Palata: <input type="text" name="palata"></label>
<label>Lova: <input type="text" name="lova"></label>
</div>

<!-- KVĖPAVIMAS -->
<div class="section">
<h2>Kvėpavimo sistema</h2>
<label>Tracheostominis vamzdis:
<select name="trach"><option value="ne">Nėra</option><option value="taip">Yra</option></select></label>
<label>Atkosėjimas ar sekretas iš vamzdžio:
<select name="sekretas_trach"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
<label>Atliekamas siurbimas:
<select name="siurbimas"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
<label>Nosis:
<select name="nosis">
<option value="nedaryta">Niekas nedaryta</option>
<option value="tamponuota">Tamponuota nosis</option>
<option value="istraukti">Ištraukti tamponai</option>
</select></label>
<label>Ar jaučiate dusulį?
<select name="dusulys"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
<label>Saturacija (%) <input type="number" name="saturacija" min="50" max="100"></label>
<label>Kosulys:
<select name="kosulys"><option value="nera">Nėra</option><option value="sausas">Sausas</option><option value="dregnas">Drėgnas</option></select></label>
</div>

<!-- ŠIRDIES IR KRAUJOTAKA -->
<div class="section">
<h2>Širdies ir kraujotaka</h2>
<label>AKS (sistolinis) <input type="number" name="sistolinis" min="50" max="250"></label>
<label>AKS (diastolinis) <input type="number" name="diastolinis" min="20" max="150"></label>
<label>Pulsas (bpm) <input type="number" name="pulsas" min="30" max="200"></label>
<label>Kūno temperatūra (°C) <input type="number" step="0.1" name="temperatura" min="30" max="42"></label>
<label>Galvos svaigimas?
<select name="svaigimas"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
</div>

<!-- MITYBA -->
<div class="section">
<h2>Mityba</h2>
<label>Mitybos būdas:
<select name="mityba"><option value="burna">Per burną</option><option value="peg">Per PEG</option><option value="zondas">Per zondą</option></select></label>
<label>Rijimo sutrikimai?
<select name="rijimas"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
<label>Ar suvalgo visą maistą?
<select name="suvalgo"><option value="taip">Taip</option><option value="dalis">Dalis</option><option value="ne">Ne</option></select></label>
</div>

<!-- ŠALINIMAS -->
<div class="section">
<h2>Šalinimas</h2>
<label>Kateteris:
<select name="kateteris"><option value="nera">Nėra</option><option value="yra">Yra</option></select></label>
<label>Vidurių užkietėjimas?
<select name="viduriai"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
<label>Viduriavimas?
<select name="viduriavimas"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
</div>

<!-- JUDĖJIMAS -->
<div class="section">
<h2>Judėjimas</h2>
<label>Mobilumas:
<select name="mobilumas">
<option value="sav">Savarankiškas</option>
<option value="pagalba">Su pagalba</option>
<option value="lova">Lovos režimas</option>
</select></label>
</div>

<!-- MIEGAS -->
<div class="section">
<h2>Miegas</h2>
<label>Miego kokybė:
<select name="miegas"><option value="gera">Gera</option><option value="sutrikusi">Sutrikusi</option></select></label>
</div>

<!-- ODA -->
<div class="section">
<h2>Oda</h2>
<label>Pragulos:
<select name="pragulos"><option value="nera">Nėra</option><option value="yra">Yra</option></select></label>
<label>Žaizdos:
<select name="zaizdos" onchange="toggleZaizdosAprasymas(this)"><option value="nera">Nėra</option><option value="yra">Yra</option></select></label>
<div id="zaizdos_aprasymas">
<label>Žaizdos aprašymas:</label>
<textarea name="zaizdos_text" rows="3"></textarea>
</div>
</div>

<!-- SKAUSMAS -->
<div class="section">
<h2>Skausmas</h2>
<label>Ar yra skausmas?
<select name="skausmas"><option value="ne">Ne</option><option value="taip">Taip</option></select></label>
<label>Intensyvumas (0-10) <input type="number" name="skausmoLygis" min="0" max="10"></label>
</div>

<button type="button" onclick="generateResults()">Generuoti problemas ir planą</button>
</form>

<div class="results" id="results"></div>

<script>
function toggleZaizdosAprasymas(sel) {
document.getElementById('zaizdos_aprasymas').style.display = (sel.value === "yra") ? "block" : "none";
}

let slaugosPlanas = {
"Kvėpavimo takai su tracheostominiu vamzdžiu": {tikslas:"Užtikrinti kvėpavimo takų praeinamumą", intervencijos:["Savalaikis sekreto atsiurbimas","Vamzdelio drėkinimas","Stebėti kvėpavimą ir SpO₂"]},
"Nedidelis kraujavimas iš nosies": {tikslas:"Sustabdyti kraujavimą", intervencijos:["Stebėti AKS, jei kraujavimas nesustoja","Apmokyti nosies priežiūros"]},
"Sutrikusi kvėpavimo funkcija (dusulys)": {tikslas:"Dusulys sumažėja", intervencijos:["Stebėti SpO₂","Prireikus skirti O₂"]},
"Neefektyvi dujų apykaita": {tikslas:"Pagerinti dujų apykaitą", intervencijos:["Stebėti SpO₂","Skirti/reguliuoti O₂"]},
"Pažemėjęs kraujo spaudimas": {tikslas:"AKS normos ribose", intervencijos:["Matuoti AKS kas 2–4h","Patarti neskubėti keltis","Stebėti griuvimus"]},
"Padidėjęs kraujo spaudimas": {tikslas:"Sumažinti AKS iki normos", intervencijos:["Toliau sekti AKS kas 4h","Stebėti simptomus"]},
"Sutrikusi mityba per burną": {tikslas:"Tinkamas maitinimas", intervencijos:["PEG perrišimas","Pagalba maitinantis"]},
"Pragulos": {tikslas:"Mažinti pažeidimus", intervencijos:["Keisti padėtį kas 3h","Naudoti pagalbines priemones","Pragulos perrišimas"]},
"Odos vientisumo pažeidimas (žaizda)": {tikslas:"Pagerinti žaizdos būklę", intervencijos:["Žaizdos perrišimas","Stebėti infekciją"]},
"Ūmus/chroniškas skausmas": {tikslas:"Sumažinti ar pašalinti skausmą", intervencijos:["Savalaikis nuskausminimas","Skausmo stebėjimas"]}
};

function generateResults() {
let f=document.forms['nursingForm'];
let esamos=[], galimos=[];

// KVĖPAVIMAS
if(f['trach'].value==="taip"){esamos.push("Kvėpavimo takai su tracheostominiu vamzdžiu"); galimos.push("Rizika infekcijai trachėjos srityje");}
if(f['sekretas_trach'].value==="taip") galimos.push("Rizika kvėpavimo takų obstrukcijai");
if(f['siurbimas'].value==="taip") esamos.push("Atliekamas sekreto siurbimas");
if(f['nosis'].value==="tamponuota") esamos.push("Apsunkintas kvėpavimas per nosį");
if(f['nosis'].value==="istraukti") esamos.push("Nedidelis kraujavimas iš nosies");
if(f['dusulys'].value==="taip") esamos.push("Sutrikusi kvėpavimo funkcija (dusulys)");
if(f['saturacija'].value && f['saturacija'].value<90){esamos.push("Neefektyvi dujų apykaita"); galimos.push("Rizika hipoksemijai");}
if(f['kosulys'].value==="dregnas") galimos.push("Rizika aspiracijai dėl sekreto");

// ŠIRDIES IR KRAUJOTAKA
let sys=parseInt(f['sistolinis'].value), dia=parseInt(f['diastolinis'].value);
if(sys && dia) {
if(sys<100 || dia<80) esamos.push("Pažemėjęs kraujo spaudimas");
else if(sys>139 || dia>95) esamos.push("Padidėjęs kraujo spaudimas");
}
let temp=parseFloat(f['temperatura'].value);
if(temp){ if(temp>=37.5){esamos.push("Karščiavimas (hipertermija)"); galimos.push("Rizika infekcijai");}
if(temp<36.0) esamos.push("Hipotermija");}
if(f['svaigimas'].value==="taip") galimos.push("Rizika griuvimui");

// MITYBA
if(f['mityba'].value!=="burna"){esamos.push("Sutrikusi mityba per burną"); galimos.push("Rizika aspiracijai");}
if(f['rijimas'].value==="taip") esamos.push("Rijimo sutrikimas");
if(f['suvalgo'].value==="dalis" || f['suvalgo'].value==="ne") galimos.push("Rizika nepakankamam maitinimui");

// ŠALINIMAS
if(f['kateteris'].value==="yra") galimos.push("Rizika šlapimo takų infekcijai");
if(f['viduriai'].value==="taip") esamos.push("Vidurių užkietėjimas");
if(f['viduriavimas'].value==="taip") esamos.push("Viduriavimas, rizika skysčių trūkumui");

// JUDĖJIMAS
if(f['mobilumas'].value==="lova"){galimos.push("Rizika praguloms dėl lovos režimo"); galimos.push("Rizika tromboembolijai");}
if(f['mobilumas'].value==="pagalba") galimos.push("Rizika griuvimui dėl pagalbos poreikio");

// MIEGAS
if(f['miegas'].value==="sutrikusi") esamos.push("Miego sutrikimas");

// ODA
if(f['pragulos'].value==="yra") esamos.push("Pragulos");
if(f['zaizdos'].value==="yra"){let apr=f['zaizdos_text'].value.trim(); esamos.push("Odos vientisumo pažeidimas (žaizda)"+(apr?" – "+apr:""));}

// SKAUSMAS
if(f['skausmas'].value==="taip"){ let intensyvumas=f['skausmoLygis'].value;
esamos.push(`Ūmus/chroniškas skausmas${intensyvumas?" ("+intensyvumas+"/10)":""}`);}

// IŠVEDAM
let html=`<h2>Palata ${f['palata'].value||'-'}, Lova ${f['lova'].value||'-'}</h2>`;
html+="<h3>Esamos problemos:</h3><ul>"+(esamos.length?esamos.map(p=>`<li>${p}</li>`).join(''):"<li>Nepastebėta</li>")+"</ul>";
html+="<h3>Galimos (rizikos) problemos:</h3><ul>"+(galimos.length?galimos.map(p=>`<li>${p}</li>`).join(''):"<li>Nepastebėta</li>")+"</ul>";

html+="<h3>Slaugos planas</h3>";
esamos.forEach(problem=>{
let key=Object.keys(slaugosPlanas).find(k=>problem.startsWith(k));
if(key){
html+=`<div class="planas"><h4>${problem}</h4><strong>Tikslas:</strong> ${slaugosPlanas[key].tikslas}<br><strong>Intervencijos:</strong><ul>`;
slaugosPlanas[key].intervencijos.forEach(i=>{html+=`<li>${i}</li>`;});
html+="</ul></div>";
}
});

document.getElementById('results').innerHTML=html;
}
</script>
</body>
</html>
